"use strict";
var __makeTemplateObject = (this && this.__makeTemplateObject) || function (cooked, raw) {
    if (Object.defineProperty) { Object.defineProperty(cooked, "raw", { value: raw }); } else { cooked.raw = raw; }
    return cooked;
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.renderDebug = renderDebug;
var lit_1 = require("lit");
var presenter_1 = require("../presenter");
function renderDebug(props) {
    var _a, _b, _c, _d, _e, _f, _g, _h;
    var securityAudit = props.status && typeof props.status === "object"
        ? props.status.securityAudit
        : null;
    var securitySummary = (_a = securityAudit === null || securityAudit === void 0 ? void 0 : securityAudit.summary) !== null && _a !== void 0 ? _a : null;
    var critical = (_b = securitySummary === null || securitySummary === void 0 ? void 0 : securitySummary.critical) !== null && _b !== void 0 ? _b : 0;
    var warn = (_c = securitySummary === null || securitySummary === void 0 ? void 0 : securitySummary.warn) !== null && _c !== void 0 ? _c : 0;
    var info = (_d = securitySummary === null || securitySummary === void 0 ? void 0 : securitySummary.info) !== null && _d !== void 0 ? _d : 0;
    var securityTone = critical > 0 ? "danger" : warn > 0 ? "warn" : "success";
    var securityLabel = critical > 0 ? "".concat(critical, " critical") : warn > 0 ? "".concat(warn, " warnings") : "No critical issues";
    return (0, lit_1.html)(templateObject_7 || (templateObject_7 = __makeTemplateObject(["\n    <section class=\"grid grid-cols-2\">\n      <div class=\"card\">\n        <div class=\"row\" style=\"justify-content: space-between;\">\n          <div>\n            <div class=\"card-title\">Snapshots</div>\n            <div class=\"card-sub\">Status, health, and heartbeat data.</div>\n          </div>\n          <button class=\"btn\" ?disabled=", " @click=", ">\n            ", "\n          </button>\n        </div>\n        <div class=\"stack\" style=\"margin-top: 12px;\">\n          <div>\n            <div class=\"muted\">Status</div>\n            ", "\n            <pre class=\"code-block\">", "</pre>\n          </div>\n          <div>\n            <div class=\"muted\">Health</div>\n            <pre class=\"code-block\">", "</pre>\n          </div>\n          <div>\n            <div class=\"muted\">Last heartbeat</div>\n            <pre class=\"code-block\">", "</pre>\n          </div>\n        </div>\n      </div>\n\n      <div class=\"card\">\n        <div class=\"card-title\">Manual RPC</div>\n        <div class=\"card-sub\">Send a raw gateway method with JSON params.</div>\n        <div class=\"form-grid\" style=\"margin-top: 16px;\">\n          <label class=\"field\">\n            <span>Method</span>\n            <input\n              .value=", "\n              @input=", "\n              placeholder=\"system-presence\"\n            />\n          </label>\n          <label class=\"field\">\n            <span>Params (JSON)</span>\n            <textarea\n              .value=", "\n              @input=", "\n              rows=\"6\"\n            ></textarea>\n          </label>\n        </div>\n        <div class=\"row\" style=\"margin-top: 12px;\">\n          <button class=\"btn primary\" @click=", ">Call</button>\n        </div>\n        ", "\n        ", "\n      </div>\n    </section>\n\n    <section class=\"card\" style=\"margin-top: 18px;\">\n      <div class=\"card-title\">Models</div>\n      <div class=\"card-sub\">Catalog from models.list.</div>\n      <pre class=\"code-block\" style=\"margin-top: 12px;\">", "</pre>\n    </section>\n\n    <section class=\"card\" style=\"margin-top: 18px;\">\n      <div class=\"card-title\">Event Log</div>\n      <div class=\"card-sub\">Latest gateway events.</div>\n      ", "\n    </section>\n  "], ["\n    <section class=\"grid grid-cols-2\">\n      <div class=\"card\">\n        <div class=\"row\" style=\"justify-content: space-between;\">\n          <div>\n            <div class=\"card-title\">Snapshots</div>\n            <div class=\"card-sub\">Status, health, and heartbeat data.</div>\n          </div>\n          <button class=\"btn\" ?disabled=", " @click=", ">\n            ", "\n          </button>\n        </div>\n        <div class=\"stack\" style=\"margin-top: 12px;\">\n          <div>\n            <div class=\"muted\">Status</div>\n            ", "\n            <pre class=\"code-block\">", "</pre>\n          </div>\n          <div>\n            <div class=\"muted\">Health</div>\n            <pre class=\"code-block\">", "</pre>\n          </div>\n          <div>\n            <div class=\"muted\">Last heartbeat</div>\n            <pre class=\"code-block\">", "</pre>\n          </div>\n        </div>\n      </div>\n\n      <div class=\"card\">\n        <div class=\"card-title\">Manual RPC</div>\n        <div class=\"card-sub\">Send a raw gateway method with JSON params.</div>\n        <div class=\"form-grid\" style=\"margin-top: 16px;\">\n          <label class=\"field\">\n            <span>Method</span>\n            <input\n              .value=", "\n              @input=", "\n              placeholder=\"system-presence\"\n            />\n          </label>\n          <label class=\"field\">\n            <span>Params (JSON)</span>\n            <textarea\n              .value=", "\n              @input=", "\n              rows=\"6\"\n            ></textarea>\n          </label>\n        </div>\n        <div class=\"row\" style=\"margin-top: 12px;\">\n          <button class=\"btn primary\" @click=", ">Call</button>\n        </div>\n        ", "\n        ", "\n      </div>\n    </section>\n\n    <section class=\"card\" style=\"margin-top: 18px;\">\n      <div class=\"card-title\">Models</div>\n      <div class=\"card-sub\">Catalog from models.list.</div>\n      <pre class=\"code-block\" style=\"margin-top: 12px;\">", "</pre>\n    </section>\n\n    <section class=\"card\" style=\"margin-top: 18px;\">\n      <div class=\"card-title\">Event Log</div>\n      <div class=\"card-sub\">Latest gateway events.</div>\n      ", "\n    </section>\n  "])), props.loading, props.onRefresh, props.loading ? "Refreshingâ€¦" : "Refresh", securitySummary
        ? (0, lit_1.html)(templateObject_1 || (templateObject_1 = __makeTemplateObject(["<div class=\"callout ", "\" style=\"margin-top: 8px;\">\n                  Security audit: ", "", ". Run\n                  <span class=\"mono\">openclaw security audit --deep</span> for details.\n                </div>"], ["<div class=\"callout ", "\" style=\"margin-top: 8px;\">\n                  Security audit: ", "", ". Run\n                  <span class=\"mono\">openclaw security audit --deep</span> for details.\n                </div>"])), securityTone, securityLabel, info > 0 ? " \u00B7 ".concat(info, " info") : "") : lit_1.nothing, JSON.stringify((_e = props.status) !== null && _e !== void 0 ? _e : {}, null, 2), JSON.stringify((_f = props.health) !== null && _f !== void 0 ? _f : {}, null, 2), JSON.stringify((_g = props.heartbeat) !== null && _g !== void 0 ? _g : {}, null, 2), props.callMethod, function (e) { return props.onCallMethodChange(e.target.value); }, props.callParams, function (e) {
        return props.onCallParamsChange(e.target.value);
    }, props.onCall, props.callError
        ? (0, lit_1.html)(templateObject_2 || (templateObject_2 = __makeTemplateObject(["<div class=\"callout danger\" style=\"margin-top: 12px;\">\n              ", "\n            </div>"], ["<div class=\"callout danger\" style=\"margin-top: 12px;\">\n              ", "\n            </div>"])), props.callError) : lit_1.nothing, props.callResult
        ? (0, lit_1.html)(templateObject_3 || (templateObject_3 = __makeTemplateObject(["<pre class=\"code-block\" style=\"margin-top: 12px;\">", "</pre>"], ["<pre class=\"code-block\" style=\"margin-top: 12px;\">", "</pre>"])), props.callResult) : lit_1.nothing, JSON.stringify((_h = props.models) !== null && _h !== void 0 ? _h : [], null, 2), props.eventLog.length === 0
        ? (0, lit_1.html)(templateObject_4 || (templateObject_4 = __makeTemplateObject(["\n              <div class=\"muted\" style=\"margin-top: 12px\">No events yet.</div>\n            "], ["\n              <div class=\"muted\" style=\"margin-top: 12px\">No events yet.</div>\n            "]))) : (0, lit_1.html)(templateObject_6 || (templateObject_6 = __makeTemplateObject(["\n            <div class=\"list\" style=\"margin-top: 12px;\">\n              ", "\n            </div>\n          "], ["\n            <div class=\"list\" style=\"margin-top: 12px;\">\n              ", "\n            </div>\n          "])), props.eventLog.map(function (evt) { return (0, lit_1.html)(templateObject_5 || (templateObject_5 = __makeTemplateObject(["\n                  <div class=\"list-item\">\n                    <div class=\"list-main\">\n                      <div class=\"list-title\">", "</div>\n                      <div class=\"list-sub\">", "</div>\n                    </div>\n                    <div class=\"list-meta\">\n                      <pre class=\"code-block\">", "</pre>\n                    </div>\n                  </div>\n                "], ["\n                  <div class=\"list-item\">\n                    <div class=\"list-main\">\n                      <div class=\"list-title\">", "</div>\n                      <div class=\"list-sub\">", "</div>\n                    </div>\n                    <div class=\"list-meta\">\n                      <pre class=\"code-block\">", "</pre>\n                    </div>\n                  </div>\n                "])), evt.event, new Date(evt.ts).toLocaleTimeString(), (0, presenter_1.formatEventPayload)(evt.payload)); })));
}
var templateObject_1, templateObject_2, templateObject_3, templateObject_4, templateObject_5, templateObject_6, templateObject_7;
